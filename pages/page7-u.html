<!-- page 7 -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Work Preferences - ProMatch</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet"/>

  <style>
    :root {
      /* Design tokens from Page 5 */
      --primary: #0061FF;
      --dark: #000000;
      --white: #FFFFFF;

      --gray-900: #111111;
      --gray-700: #404040;
      --gray-500: #737373;
      --gray-300: #E5E7EB;
      --gray-100: #F9FAFB;

      --error: #EF4444;
      --success: #10B981;

      --shadow-sm: 0 2px 8px rgba(0,0,0,0.06);
      --shadow-md: 0 8px 24px rgba(0,0,0,0.08);
      --shadow-lg: 0 12px 40px rgba(0,0,0,0.12);
    }

    /* Keep the extra palette used across steps (for gradients, etc.) */
    :root{
      --primary: #0066CC;
      --primary-hover: #0052A3;
      --secondary: #F3F6FF;
      --accent: #00A0DC;
      --text-primary: #1D2129;
      --text-secondary: #65676B;
      --text-muted: #8A8D91;
      --bg: #FFFFFF;
      --bg-secondary: #F8F9FA;
      --border: #DADDE1;
      --border-light: #E4E6EA;
      --success: #42B883;
      --danger: #EF4444;
      --shadow-sm: 0 2px 8px rgba(0,0,0,0.08);
      --shadow-md: 0 4px 20px rgba(0,0,0,0.12);
      --shadow-lg: 0 8px 40px rgba(0,0,0,0.15);
      --gradient: linear-gradient(135deg, #0066CC 0%, #00A0DC 100%);
      --gradient-light: linear-gradient(135deg, rgba(0, 102, 204, 0.1) 0%, rgba(0, 160, 220, 0.1) 100%);
    }

    /* Reset */
    * { box-sizing: border-box; margin: 0; padding: 0; }
    html, body { height: 100%; }
    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      color: var(--gray-900);
      background: var(--white);
      -webkit-font-smoothing: antialiased;
      line-height: 1.5;
      overflow-x: hidden;
    }

    /* Background (particles canvas + floating shapes) */
    .bg-canvas {
      position: fixed; inset: 0; width: 100%; height: 100%;
      z-index: -1; opacity: 0.02;
    }
    .bg-decoration {
      position: fixed; inset: 0; width: 100%; height: 100%;
      pointer-events: none; z-index: -2;
    }
    .floating-shape {
      position: absolute; border-radius: 50%; will-change: transform, opacity; filter: blur(6px);
      background:
        radial-gradient(circle at 30% 30%, rgba(0, 97, 255, 0.22), rgba(0, 97, 255, 0.10) 45%, transparent 65%),
        radial-gradient(circle at 70% 70%, rgba(0, 97, 255, 0.18), transparent 60%);
      animation: floatBlob 14s ease-in-out infinite; opacity: .6;
    }
    .floating-shape:nth-child(1){ --size:280px; width:var(--size); height:var(--size); top:10%; right:12%; animation-delay:0s; }
    .floating-shape:nth-child(2){ --size:200px; width:var(--size); height:var(--size); bottom:20%; left:8%; animation-delay:4.2s; }
    .floating-shape:nth-child(3){ --size:150px; width:var(--size); height:var(--size); top:56%; right:28%; animation-delay:8.4s; }
    @keyframes floatBlob {
      0%,100% { transform: translate3d(0,0,0) scale(1) rotate(0deg); opacity: .55; }
      25%     { transform: translate3d(-12px,-22px,0) scale(1.03) rotate(8deg); opacity: .65; }
      50%     { transform: translate3d(0,-14px,0) scale(.98) rotate(0deg); opacity: .60; }
      75%     { transform: translate3d(12px,-28px,0) scale(1.04) rotate(-8deg); opacity: .68; }
    }

    /* Header (identical to Page 5) */
    .header {
      position: fixed; top: 0; left: 0; right: 0;
      background: rgba(255, 255, 255, 0.9);
      backdrop-filter: blur(10px);
      border-bottom: 1px solid var(--gray-300);
      z-index: 100;
    }
    .header__inner {
      max-width: 1200px; margin: 0 auto; padding: 16px 24px;
      display: flex; align-items: center; justify-content: space-between; min-height: 64px;
    }
    .logo { height: 28px; width: auto; display: block; }

    .progress-container { display: flex; align-items: center; gap: 12px; font-size: 13px; color: var(--gray-500); font-weight: 500; }
    .progress-bar { width: 120px; height: 6px; background: var(--gray-300); border-radius: 3px; overflow: hidden; }
    .progress-fill { height: 100%; background: var(--dark); transition: width .6s ease; width: 87.5%; } /* 7/8 */

    /* Layout (identical to Page 5) */
    .container {
      max-width: 640px; margin: 0 auto;
      padding: 100px 24px 40px; /* space for fixed header */
      min-height: 100vh; display: flex; align-items: center;
    }
    .form-card {
      width: 100%; background: rgba(255,255,255,0.98); backdrop-filter: blur(20px);
      border: 1px solid var(--gray-300); border-radius: 16px; padding: 40px;
      box-shadow: var(--shadow-sm); animation: slideUp .6s ease-out;
    }
    @keyframes slideUp { from { opacity:0; transform: translateY(20px);} to { opacity:1; transform:none;} }

    .form-header { margin-bottom: 32px; }
    .step-badge {
      display: inline-flex; align-items: center; gap: 6px;
      padding: 6px 14px; background: var(--gray-100); color: var(--gray-700);
      border-radius: 20px; font-size: 13px; font-weight: 500; margin-bottom: 16px;
    }
    .step-badge::before { content: ''; width: 6px; height: 6px; background: var(--primary); border-radius: 50%; animation: pulse 2s ease-in-out infinite; }
    @keyframes pulse { 0%,100%{opacity:1} 50%{opacity:.5} }

    .form-title { font-size: 28px; font-weight: 700; color: var(--dark); margin-bottom: 8px; letter-spacing: -0.02em; }
    .form-subtitle { font-size: 15px; color: var(--gray-500); }

    /* Sections */
    .section { margin: 24px 0 8px; }
    .section-title { font-size: 16px; font-weight: 700; color: var(--gray-900); margin-bottom: 10px; }

    /* Cards/blocks to match Page 5 visual language */
    .block {
      background: var(--gray-100);
      border: 1px solid var(--gray-300);
      border-radius: 12px;
      padding: 16px;
      box-shadow: 0 6px 20px rgba(0,0,0,0.03);
      margin-bottom: 14px;
    }

    /* Form controls (identical look to Page 5) */
    .form-group { margin-bottom: 16px; }
    .form-label { display:block; font-size:14px; font-weight:600; color: var(--gray-700); margin-bottom: 8px; }
    .form-input, .form-select {
      width: 100%; padding: 12px 14px; border: 1px solid var(--gray-300); border-radius: 8px;
      font-size: 15px; font-family: inherit; background: var(--white); transition: all .2s ease; min-height: 44px;
    }
    .form-input:hover, .form-select:hover { border-color: #d1d5db; }
    .form-input:focus, .form-select:focus { outline: none; border-color: var(--dark); box-shadow: 0 0 0 3px rgba(0,0,0,0.05); }
    .form-input:focus-visible, .form-select:focus-visible { outline: 3px solid rgba(0,97,255,.35); outline-offset: 2px; }

    .form-select {
      appearance: none;
      background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e");
      background-position: right 12px center;
      background-repeat: no-repeat;
      background-size: 16px;
      padding-right: 44px;
      cursor: pointer;
    }

    /* Rate block layout */
    .rate-grid {
      display: grid; grid-template-columns: 120px 1fr 140px; gap: 12px; align-items: end;
    }

    /* Toggle rows */
    .toggle-row {
      display: flex; align-items: center; justify-content: space-between;
      padding: 14px 16px; background: var(--white); border-radius: 10px;
      border: 1px solid var(--gray-300); transition: border-color .2s ease, background .2s ease;
    }
    .toggle-row:hover { border-color: var(--dark); background: #F2F6FF; }
    .toggle-info { flex: 1; }
    .toggle-label { font-size: 15px; font-weight: 700; color: var(--gray-900); }
    .toggle-desc { font-size: 13px; color: var(--gray-500); }

    /* Switch */
    .switch { position: relative; width: 48px; height: 26px; }
    .switch input { opacity: 0; width: 0; height: 0; }
    .slider {
      position: absolute; cursor: pointer; inset: 0;
      background: var(--gray-300); transition: .25s; border-radius: 999px;
    }
    .slider:before {
      content: ""; position: absolute; width: 20px; height: 20px; left: 3px; top: 3px;
      background: #fff; border-radius: 50%; box-shadow: 0 2px 4px rgba(0,0,0,.15); transition: .25s;
    }
    .switch input:checked + .slider { background: var(--dark); }
    .switch input:checked + .slider:before { transform: translateX(22px); }

    /* AI helper (styled like Page 5â€™s helper) */
    .ai-helper {
      margin-top: 8px; padding: 14px;
      background: rgba(0,97,255,0.06);
      border: 1px dashed rgba(0,97,255,0.35);
      border-radius: 12px; color: var(--gray-700); font-size: 14px;
    }
    .ai-actions { margin-top: 10px; display:flex; flex-wrap: wrap; gap: 8px; }
    .ai-button {
      background: var(--white); border: 2px solid var(--primary); color: var(--primary);
      padding: 10px 14px; border-radius: 10px; cursor: pointer; font-weight: 700; font-size: 13px;
      transition: transform .15s ease, background .2s ease, color .2s ease, box-shadow .2s ease;
      display: inline-flex; align-items: center; gap: 8px;
    }
    .ai-button:hover:not(:disabled) { background: var(--primary); color: #fff; transform: translateY(-1px); box-shadow: var(--shadow-sm); }
    .ai-button:disabled { opacity: .5; cursor: not-allowed; }

    /* Footer actions + buttons (identical to Page 5) */
    .form-actions {
      display: flex; justify-content: space-between; align-items: center;
      margin-top: 28px; padding-top: 20px; border-top: 1px solid var(--gray-300);
    }
    .btn {
      padding: 12px 24px; border-radius: 10px; font-weight: 700; font-size: 15px;
      cursor: pointer; border: none; display: inline-flex; align-items: center; gap: 8px;
      transition: transform .15s ease, box-shadow .2s ease, background .2s ease, color .2s ease, filter .2s ease;
    }
    .btn:focus-visible { outline: 3px solid rgba(0,97,255,.35); outline-offset: 2px; }
    .btn:active { transform: translateY(0.5px); }

    .btn-back { background: var(--white); color: var(--gray-700); border: 1px solid var(--gray-300); text-decoration: none; }
    .btn-back:hover { border-color: var(--gray-700); background: var(--gray-100); }

    .btn-primary { background: var(--dark); color: #fff; min-width: 160px; justify-content: center; }
    .btn-primary:hover:not(:disabled) { transform: translateY(-1px); box-shadow: 0 4px 12px rgba(0,0,0,0.15); }
    .btn-primary:disabled { opacity: .35; cursor: not-allowed; transform: none; }

    .loading-spinner {
      width: 16px; height: 16px; border: 2px solid transparent; border-top: 2px solid currentColor; border-radius: 50%;
      animation: spin 1s linear infinite;
    }
    @keyframes spin { to { transform: rotate(360deg); } }

    /* Toast (like Page 5) */
    .toast {
      position: fixed; top: 20px; right: 20px; background: var(--dark); color: #fff;
      padding: 12px 16px; border-radius: 10px; font-size: 13px; box-shadow: var(--shadow-lg); z-index: 9999;
      animation: toastIn .2s ease;
    }
    @keyframes toastIn { from{opacity:0; transform: translateY(-6px);} to{opacity:1; transform:none;} }

    /* A11y */
    .sr-only {
      position: absolute !important; width:1px; height:1px; padding:0; margin:-1px;
      overflow:hidden; clip: rect(0,0,1px,1px); white-space:nowrap; border:0;
    }

    /* Mobile */
    @media (max-width: 640px) {
      .container { padding: 80px 16px 24px; }
      .form-card { padding: 32px 24px; }
      .form-title { font-size: 24px; }
      .form-actions { flex-direction: column-reverse; gap: 12px; }
      .btn { width: 100%; justify-content: center; }
      .floating-shape { opacity: .05; }
      .rate-grid { grid-template-columns: 1fr; }
    }
  </style>
</head>
<body>
  <!-- Animated Background -->
  <canvas class="bg-canvas" id="bgCanvas" aria-hidden="true"></canvas>
  <div class="bg-decoration" aria-hidden="true">
    <div class="floating-shape"></div>
    <div class="floating-shape"></div>
    <div class="floating-shape"></div>
  </div>

  <!-- Header -->
  <header class="header">
    <div class="header__inner">
      <picture>
        <source media="(max-width: 768px)" srcset="../logos/rm-bg/icon1.png"/>
        <img class="logo" src="../logos/rm-bg/logo1.png" alt="ProMatch"/>
      </picture>

      <div class="progress-container" aria-live="polite">
        <span id="stepText">Step 7 of 8</span>
        <div class="progress-bar" aria-hidden="true">
          <div class="progress-fill" id="headerProgress"></div>
        </div>
      </div>
    </div>
  </header>

  <!-- Main -->
  <main class="container">
    <section class="form-card" aria-labelledby="prefs-title">
      <div class="form-header">
        <div class="step-badge">Work Preferences</div>
        <h1 class="form-title" id="prefs-title">Set your work preferences</h1>
        <p class="form-subtitle">Help clients understand how you work and what you're looking for.</p>
      </div>

      <form id="preferencesForm" novalidate>
        <!-- Rate -->
        <div class="section">
          <div class="section-title">Your Rate</div>
          <div class="block">
            <div class="rate-grid">
              <div class="form-group">
                <label class="form-label" for="currency">Currency</label>
                <select class="form-select" id="currency">
                  <option value="PKR">PKR</option>
                  <option value="USD">USD</option>
                  <option value="EUR">EUR</option>
                  <option value="GBP">GBP</option>
                  <option value="AED">AED</option>
                  <option value="INR">INR</option>
                </select>
              </div>

              <div class="form-group">
                <label class="form-label" for="amount">Amount</label>
                <input type="number" class="form-input" id="amount" placeholder="5000" min="0" step="1" />
              </div>

              <div class="form-group">
                <label class="form-label" for="unit">Per</label>
                <select class="form-select" id="unit">
                  <option value="/hour">Hour</option>
                  <option value="/day">Day</option>
                  <option value="/project">Project</option>
                </select>
              </div>
            </div>

            <!-- AI helper -->
            <div class="ai-helper" role="region" aria-label="AI Rate Assistant">
              <strong>AI Rate Assistant</strong>
              <div class="ai-actions">
                <button type="button" class="ai-button" id="rateBtn">ðŸ’¡ Suggest My Rate</button>
              </div>
            </div>
          </div>
        </div>

        <!-- Availability -->
        <div class="section">
          <div class="section-title">Availability</div>
          <div class="block">
            <div class="form-group">
              <label class="form-label" for="availability">When can you start?</label>
              <select class="form-select" id="availability">
                <option value="now">Available now</option>
                <option value="1week">Within 1 week</option>
                <option value="2weeks">Within 2 weeks</option>
                <option value="1month">Within 1 month</option>
              </select>
            </div>

            <div class="form-group">
              <label class="form-label" for="hoursPerWeek">Hours per week</label>
              <select class="form-select" id="hoursPerWeek">
                <option value="part-time">Part-time (10-20 hrs)</option>
                <option value="full-time" selected>Full-time (30-40 hrs)</option>
                <option value="flexible">Flexible</option>
              </select>
            </div>
          </div>
        </div>

        <!-- Preferences toggles -->
        <div class="section">
          <div class="section-title">Preferences</div>
          <div class="block" style="padding: 0;">
            <div class="toggle-row">
              <div class="toggle-info">
                <div class="toggle-label">Remote Work</div>
                <div class="toggle-desc">I prefer working remotely</div>
              </div>
              <label class="switch">
                <input type="checkbox" id="remoteWork" checked />
                <span class="slider"></span>
              </label>
            </div>

            <div class="toggle-row">
              <div class="toggle-info">
                <div class="toggle-label">Open to Work</div>
                <div class="toggle-desc">Show availability on profile</div>
              </div>
              <label class="switch">
                <input type="checkbox" id="openToWork" checked />
                <span class="slider"></span>
              </label>
            </div>

            <div class="toggle-row">
              <div class="toggle-info">
                <div class="toggle-label">Long-term Projects</div>
                <div class="toggle-desc">Interested in ongoing work</div>
              </div>
              <label class="switch">
                <input type="checkbox" id="longTerm" />
                <span class="slider"></span>
              </label>
            </div>
          </div>
        </div>

        <!-- Actions -->
        <div class="form-actions">
          <a href="/onboarding/education" class="btn btn-back" id="backBtn" aria-label="Go back to Education">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M19 12H5M12 19l-7-7 7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            Back
          </a>

          <button type="submit" class="btn btn-primary" id="continueBtn">
            <span id="btnText">Complete Setup</span>
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M5 12h14M12 5l7 7-7 7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </button>
        </div>
      </form>
    </section>
  </main>

  <!-- Subtle particle background (same as Page 5) -->
  <script>
    (() => {
      const canvas = document.getElementById('bgCanvas');
      const ctx = canvas.getContext('2d');
      let w, h, particles = [];
      const COUNT = 30;

      function size(){ w = canvas.width = window.innerWidth; h = canvas.height = window.innerHeight; }
      size(); window.addEventListener('resize', size);

      class P {
        constructor(init=false){ this.reset(init); }
        reset(init){ this.x = init?Math.random()*w:(Math.random()<0.5?0:w); this.y = Math.random()*h; this.s = Math.random()*2+0.5; this.vx = Math.random()*0.5-0.25; this.vy = Math.random()*0.5-0.25; }
        step(){ this.x+=this.vx; this.y+=this.vy; if (this.x>w||this.x<0||this.y>h||this.y<0) this.reset(); }
        draw(){ ctx.fillStyle='#000'; ctx.beginPath(); ctx.arc(this.x,this.y,this.s,0,Math.PI*2); ctx.fill(); }
      }
      for (let i=0;i<COUNT;i++) particles.push(new P(true));

      function tick(){
        ctx.clearRect(0,0,w,h);
        particles.forEach(p=>{ p.step(); p.draw(); });
        for(let i=0;i<particles.length;i++){
          for(let j=i+1;j<particles.length;j++){
            const a=particles[i], b=particles[j];
            const d=Math.hypot(a.x-b.x, a.y-b.y);
            if(d<100){ ctx.strokeStyle=`rgba(0,0,0,${1-d/100})`; ctx.lineWidth=0.3; ctx.beginPath(); ctx.moveTo(a.x,a.y); ctx.lineTo(b.x,b.y); ctx.stroke(); }
          }
        }
        requestAnimationFrame(tick);
      }
      if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) tick();
    })();
  </script>

  <script>
    /* ===== Work Preferences (Step 7) ===== */
    (() => {
      "use strict";

      // DOM
      const continueBtn = document.getElementById('continueBtn');
      const btnText = document.getElementById('btnText');
      const rateBtn = document.getElementById('rateBtn');
      const headerProgress = document.getElementById('headerProgress');
      const stepText = document.getElementById('stepText');
      const formEl = document.getElementById('preferencesForm');

      // Progress
      const CURRENT_STEP = 7, TOTAL_STEPS = 8;
      function updateProgress(step){
        const pct = (step / TOTAL_STEPS) * 100;
        headerProgress.style.width = pct + '%';
        stepText.textContent = `Step ${step} of ${TOTAL_STEPS}`;
      }

      // Helpers
      function toast(msg){
        const t = document.createElement('div');
        t.className = 'toast';
        t.textContent = msg;
        document.body.appendChild(t);
        setTimeout(()=>{ t.style.opacity='0'; t.style.transform='translateY(-6px)'; setTimeout(()=> t.remove(), 200); }, 2200);
      }

      // Data access from earlier steps
      function getLocationData() {
        try { return JSON.parse(localStorage.getItem('onboarding_location')||'null'); } catch { return null; }
      }
      function getSkillsData() {
        try { return JSON.parse(localStorage.getItem('onboarding_skills')||'[]'); } catch { return []; }
      }
      function getExperienceData() {
        try { return JSON.parse(localStorage.getItem('onboarding_experience')||'[]'); } catch { return []; }
      }

      // AI Rate Recommendation
      async function suggestRate(){
        rateBtn.disabled = true;
        const prev = rateBtn.innerHTML;
        rateBtn.innerHTML = '<span class="loading-spinner"></span>';

        await new Promise(r => setTimeout(r, 800)); // simulate

        const locationData = getLocationData();
        const skills = getSkillsData();
        const experience = getExperienceData();

        let baseRate = 2000;
        let currency = 'PKR';

        if (locationData) {
          switch(String(locationData.country||'').toLowerCase()) {
            case 'us':
            case 'ca':
              baseRate = 45; currency = 'USD'; break;
            case 'uk':
              baseRate = 35; currency = 'GBP'; break;
            case 'ae':
              baseRate = 150; currency = 'AED'; break;
            case 'in':
              baseRate = 1200; currency = 'INR'; break;
            default:
              baseRate = 2500; currency = 'PKR';
          }
        }

        const advancedSkills = Array.isArray(skills) ? skills.filter(s => Number(s?.level) >= 4).length : 0;
        baseRate = Math.round(baseRate * (1 + advancedSkills * 0.15));

        if (Array.isArray(experience)) {
          if (experience.length >= 3) baseRate = Math.round(baseRate * 1.3);
          else if (experience.length >= 1) baseRate = Math.round(baseRate * 1.15);
        }

        document.getElementById('currency').value = currency;
        document.getElementById('amount').value = baseRate;

        toast(`Recommended: ${currency} ${baseRate}/hour`);
        rateBtn.disabled = false;
        rateBtn.innerHTML = prev;
      }

      // Save + complete
      formEl.addEventListener('submit', (e) => {
        e.preventDefault();

        const preferences = {
          currency: document.getElementById('currency').value,
          rate: document.getElementById('amount').value,
          unit: document.getElementById('unit').value,
          availability: document.getElementById('availability').value,
          hoursPerWeek: document.getElementById('hoursPerWeek').value,
          remoteWork: document.getElementById('remoteWork').checked,
          openToWork: document.getElementById('openToWork').checked,
          longTerm: document.getElementById('longTerm').checked
        };

        try { localStorage.setItem('onboarding_preferences', JSON.stringify(preferences)); } catch {}

        btnText.innerHTML = '<span class="loading-spinner"></span>';
        continueBtn.disabled = true;

        updateProgress(CURRENT_STEP + 1); // to 100%
        setTimeout(() => {
          alert('ðŸŽ‰ Profile setup complete! Welcome to ProMatch!');
          // window.location.href = '/dashboard';
        }, 700);
      });

      // Init
      document.addEventListener('DOMContentLoaded', () => {
        updateProgress(CURRENT_STEP);

        // default currency from location
        const locationData = getLocationData();
        if (locationData) {
          const map = { us:'USD', ca:'USD', uk:'GBP', pk:'PKR', in:'INR', ae:'AED' };
          const curr = map[String(locationData.country||'').toLowerCase()] || 'PKR';
          document.getElementById('currency').value = curr;
        }

        // load saved
        try {
          const saved = JSON.parse(localStorage.getItem('onboarding_preferences')||'null');
          if (saved) {
            const ids = ['currency','amount','unit','availability','hoursPerWeek'];
            ids.forEach(id => { if (saved[id]) document.getElementById(id).value = saved[id]; });
            ['remoteWork','openToWork','longTerm'].forEach(id => {
              if (typeof saved[id] === 'boolean') document.getElementById(id).checked = saved[id];
            });
          }
        } catch {}

        rateBtn.addEventListener('click', suggestRate);
      });
    })();
  </script>
</body>
</html>
